{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MegaGiga\\\\Desktop\\\\site\\\\frontend\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  setAdmin,\n  setCliente,\n  setAba\n}) {\n  _s();\n  const [loginEmail, setLoginEmail] = useState('');\n  const [loginSenha, setLoginSenha] = useState('');\n  const navigate = useNavigate();\n  function handleLogin(e) {\n    e.preventDefault();\n    if (loginEmail === 'admin@admin.com' && loginSenha === 'admin') {\n      setAdmin(true);\n      setCliente(null);\n      setAba('produtos');\n      navigate('/');\n    } else {\n      fetch('http://192.168.3.203:3001/usuarios').then(res => res.json()).then(usuarios => {\n        const user = usuarios.find(u => (u.cpf === loginEmail || u.email === loginEmail) && u.senha === loginSenha);\n        if (user) {\n          setCliente(user);\n          setAdmin(false);\n          setAba('produtos');\n          // Se senha padrão, redireciona para alteração de senha\n          // Armazena no localStorage a senha resetada para comparar no próximo login\n          const senhaResetada = localStorage.getItem('senhaResetada');\n          if (user.senha === '12345678' || senhaResetada && user.senha === senhaResetada) {\n            // Limpa senha resetada após o primeiro login\n            localStorage.removeItem('senhaResetada');\n            navigate('/alterar-senha');\n          } else {\n            navigate('/');\n          }\n        } else {\n          setAdmin(false);\n          setCliente(null);\n          alert('Login inválido!');\n        }\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 400,\n      margin: '32px auto',\n      background: '#fff',\n      borderRadius: 8,\n      boxShadow: '0 2px 8px #0002',\n      padding: 24\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center',\n        color: '#2d3a4b'\n      },\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Email ou CPF\",\n        value: loginEmail,\n        onChange: e => setLoginEmail(e.target.value),\n        required: true,\n        style: {\n          padding: 8,\n          borderRadius: 4,\n          border: '1px solid #ccc'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Senha\",\n        value: loginSenha,\n        onChange: e => setLoginSenha(e.target.value),\n        required: true,\n        style: {\n          padding: 8,\n          borderRadius: 4,\n          border: '1px solid #ccc'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          fontSize: 14,\n          color: '#555',\n          display: 'flex',\n          alignItems: 'center',\n          gap: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          style: {\n            accentColor: '#2d3a4b'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), \" Lembrar-me no pr\\xF3ximo login\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: 10,\n          borderRadius: 4,\n          background: '#2d3a4b',\n          color: '#fff',\n          border: 'none',\n          fontWeight: 'bold'\n        },\n        children: \"Entrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 24,\n        textAlign: 'center',\n        fontSize: 13,\n        color: '#888'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Admin:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), \" admin@admin.com | Senha: admin\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 53\n      }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Clientes:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), \" use o email e senha cadastrados\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 57\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 12\n        },\n        children: \"Se n\\xE3o possui conta, registre-se!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"q4yZh10Sv769a3x//6seQi6BSgA=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","Login","setAdmin","setCliente","setAba","_s","loginEmail","setLoginEmail","loginSenha","setLoginSenha","navigate","handleLogin","e","preventDefault","fetch","then","res","json","usuarios","user","find","u","cpf","email","senha","senhaResetada","localStorage","getItem","removeItem","alert","style","maxWidth","margin","background","borderRadius","boxShadow","padding","children","textAlign","color","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","display","flexDirection","gap","type","placeholder","value","onChange","target","required","border","fontSize","alignItems","accentColor","fontWeight","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/MegaGiga/Desktop/site/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Login({ setAdmin, setCliente, setAba }) {\r\n  const [loginEmail, setLoginEmail] = useState('');\r\n  const [loginSenha, setLoginSenha] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  function handleLogin(e) {\r\n    e.preventDefault();\r\n    if (loginEmail === 'admin@admin.com' && loginSenha === 'admin') {\r\n      setAdmin(true);\r\n      setCliente(null);\r\n      setAba('produtos');\r\n      navigate('/');\r\n    } else {\r\n      fetch('http://192.168.3.203:3001/usuarios')\r\n        .then(res => res.json())\r\n        .then(usuarios => {\r\n          const user = usuarios.find(u => (u.cpf === loginEmail || u.email === loginEmail) && u.senha === loginSenha);\r\n          if (user) {\r\n            setCliente(user);\r\n            setAdmin(false);\r\n            setAba('produtos');\r\n            // Se senha padrão, redireciona para alteração de senha\r\n            // Armazena no localStorage a senha resetada para comparar no próximo login\r\n            const senhaResetada = localStorage.getItem('senhaResetada');\r\n            if (user.senha === '12345678' || (senhaResetada && user.senha === senhaResetada)) {\r\n              // Limpa senha resetada após o primeiro login\r\n              localStorage.removeItem('senhaResetada');\r\n              navigate('/alterar-senha');\r\n            } else {\r\n              navigate('/');\r\n            }\r\n          } else {\r\n            setAdmin(false);\r\n            setCliente(null);\r\n            alert('Login inválido!');\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{maxWidth:400,margin:'32px auto',background:'#fff',borderRadius:8,boxShadow:'0 2px 8px #0002',padding:24}}>\r\n      <h2 style={{textAlign:'center',color:'#2d3a4b'}}>Login</h2>\r\n      <form onSubmit={handleLogin} style={{display:'flex',flexDirection:'column',gap:12}}>\r\n        <input type=\"text\" placeholder=\"Email ou CPF\" value={loginEmail} onChange={e => setLoginEmail(e.target.value)} required style={{padding:8,borderRadius:4,border:'1px solid #ccc'}} />\r\n        <input type=\"password\" placeholder=\"Senha\" value={loginSenha} onChange={e => setLoginSenha(e.target.value)} required style={{padding:8,borderRadius:4,border:'1px solid #ccc'}} />\r\n        <label style={{fontSize:14, color:'#555',display:'flex',alignItems:'center',gap:6}}>\r\n          <input type=\"checkbox\" style={{accentColor:'#2d3a4b'}} /> Lembrar-me no próximo login\r\n        </label>\r\n        <button type=\"submit\" style={{padding:10,borderRadius:4,background:'#2d3a4b',color:'#fff',border:'none',fontWeight:'bold'}}>Entrar</button>\r\n      </form>\r\n      <div style={{marginTop:24,textAlign:'center',fontSize:13,color:'#888'}}>\r\n        <b>Admin:</b> admin@admin.com | Senha: admin<br/>\r\n        <b>Clientes:</b> use o email e senha cadastrados<br/>\r\n        <span style={{fontSize:12}}>Se não possui conta, registre-se!</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}